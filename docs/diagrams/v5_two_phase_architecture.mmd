%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#4A90D9', 'primaryTextColor': '#fff', 'primaryBorderColor': '#2E6AB3', 'lineColor': '#5C6BC0', 'secondaryColor': '#81C784', 'tertiaryColor': '#FFB74D'}}}%%
flowchart TB
    subgraph INPUT["ğŸ“¥ ì…ë ¥"]
        A[("10M í† í°<br/>ëŒ€í™” ë°ì´í„°")]
    end

    subgraph PHASE1["ğŸš€ Phase 1: InstantCompressor (LLM ì—†ìŒ, ~500ms)"]
        direction TB
        B["ì²­í‚¹<br/>500í† í° Ã— 20,000ê°œ"]
        
        subgraph TFIDF["TF-IDF í‚¤ì›Œë“œ ì¶”ì¶œ"]
            C1["TF ê³„ì‚°<br/>(ë‹¨ì–´ ë¹ˆë„)"]
            C2["IDF ê³„ì‚°<br/>(ì—­ë¬¸ì„œ ë¹ˆë„)"]
            C3["ìƒìœ„ 20ê°œ<br/>í‚¤ì›Œë“œ ì¶”ì¶œ"]
        end
        
        subgraph TEXTRANK["TextRank ë¬¸ì¥ ì¶”ì¶œ"]
            D1["ìœ ì‚¬ë„ í–‰ë ¬<br/>ìƒì„±"]
            D2["PageRank<br/>ì‹¤í–‰"]
            D3["ìƒìœ„ 3ê°œ<br/>ë¬¸ì¥ ì¶”ì¶œ"]
        end
        
        subgraph SIMHASH["SimHash ì¤‘ë³µ ì œê±°"]
            E1["64ë¹„íŠ¸ í•´ì‹œ<br/>ìƒì„±"]
            E2["í•´ë° ê±°ë¦¬<br/>ê³„ì‚°"]
            E3["ê±°ë¦¬ â‰¤ 3<br/>ì¤‘ë³µ íê¸°"]
        end
        
        F["ì••ì¶•ëœ ì²­í¬<br/>200ê°œ (~99% ì••ì¶•)"]
    end

    subgraph PHASE2["ğŸ¥Š Phase 2: JabEngine (LLM ë³‘ë ¬ í˜¸ì¶œ, ~2.5ì´ˆ)"]
        direction TB
        
        subgraph MODELS["ì´ˆê³ ì† ëª¨ë¸ í’€"]
            G1["Cerebras 70B<br/>100ms"]
            G2["Groq Llama 70B<br/>130ms"]
            G3["Grok 4.1 Fast<br/>300ms"]
        end
        
        subgraph PARALLEL["ë³‘ë ¬ ì²˜ë¦¬ (8 Workers)"]
            H1["Worker 1"]
            H2["Worker 2"]
            H3["Worker 3"]
            H4["Worker ..."]
            H5["Worker 8"]
        end
        
        I["ìš”ì•½ëœ ì²­í¬<br/>200ê°œ Ã— 150í† í°"]
        
        subgraph MERGE["ê³„ì¸µì  ë³‘í•©"]
            J1["Level 1<br/>5ê°œì”© ë³‘í•©"]
            J2["Level 2<br/>5ê°œì”© ë³‘í•©"]
            J3["Level 3<br/>ìµœì¢… ë³‘í•©"]
        end
    end

    subgraph OUTPUT["ğŸ“¤ ì¶œë ¥"]
        K[("ìµœì¢… ì»¨í…ìŠ¤íŠ¸<br/>~8K í† í°")]
    end

    subgraph MACBOOK["ğŸ’» MacBook Pro M3 ìµœì í™”"]
        L1["CPU ëª¨ë‹ˆí„°ë§<br/>< 30%"]
        L2["ë©”ëª¨ë¦¬ ì••ë ¥<br/>< 70%"]
        L3["ì ì‘í˜• ë™ì‹œì„±<br/>1~8 Workers"]
    end

    A --> B
    B --> C1 --> C2 --> C3
    B --> D1 --> D2 --> D3
    C3 --> E1
    D3 --> E1
    E1 --> E2 --> E3 --> F
    
    F --> G1 & G2 & G3
    G1 & G2 & G3 --> H1 & H2 & H3 & H4 & H5
    H1 & H2 & H3 & H4 & H5 --> I
    I --> J1 --> J2 --> J3 --> K
    
    L1 -.-> H1
    L2 -.-> H1
    L3 -.-> H1

    style INPUT fill:#E3F2FD,stroke:#1565C0
    style PHASE1 fill:#E8F5E9,stroke:#2E7D32
    style PHASE2 fill:#FFF3E0,stroke:#EF6C00
    style OUTPUT fill:#F3E5F5,stroke:#7B1FA2
    style MACBOOK fill:#ECEFF1,stroke:#546E7A
